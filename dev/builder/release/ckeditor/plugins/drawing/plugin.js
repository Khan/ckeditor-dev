(function(){var d="/computer-programming/method_draw";CKEDITOR.plugins.add("drawing",{requires:"dialog,iframedialog",icons:"drawing",init:function(e){e.addCommand("drawing",new CKEDITOR.dialogCommand("drawing",{allowedContent:"img"}));e.ui.addButton("Drawing",{label:"Add Drawing",command:"drawing"});e.on("doubleclick",function(c){var b=c.data.element.$.getAttribute("src");b&&0===b.indexOf("data:image/svg+xml")&&(c.data.dialog="drawing")});if("undefined"!==typeof KAdefine){var f=KAdefine.require("./javascript/shared-package/ka.js");
f.IS_DEV_SERVER||(d+="?v="+f.version)}CKEDITOR.dialog.addIframe("drawing","Drawing",d,865,510,g(e))}});var g=function(e){return function(){var f=this,c=this.getDialog(),b=c.getElement(),a=b.$.getElementsByClassName("cke_dialog_contents_body")[0];a.style.margin=0;a.style.padding=0;a.style.overflow="hidden";b.$.getElementsByClassName("cke_dialog_ui_vbox_child")[0].style.padding=0;b=this.getElement().$.contentWindow;if("undefined"!==typeof KAdefine&&(a=KAdefine.require("./javascript/shared-package/ka.js").getUserProfile(),
a.get("isCreator")||a.get("isDeveloper")))b.document.getElementById("file-menu").style.display="inline-block";if(a=c.getSelectedElement())a=a.getAttribute("src").replace("data:image/svg+xml;utf8,",""),a=decodeURIComponent(a),b.methodDraw.canvas.setSvgString(a);var d=function(){var a=new CKEDITOR.dom.element("img"),b=f.getElement().$.contentWindow,b="data:image/svg+xml;utf8,"+encodeURIComponent(b.methodDraw.canvas.getSvgString());a.setAttribute("src",b);(b=c.getSelectedElement())?a.replace(b):e.insertElement(a)};
c.on("ok",d);c.on("hide",function(a){c.removeListener("ok",d);a.removeListener()})}}})();